(async()=>{const e=await fetch("/scenario").then((e=>e.json())),n=Object.entries(e).filter((([e,n])=>!Array.isArray(n))).reduce(((e,n)=>{const[t,{info:r}]=n,a=r.header,[c,o]=a.split(" ");return a in e||(e[a]={method:c,path:o,scenarios:[]}),e[a].scenarios.push(t),e}),{}),t=Object.entries(e).filter((([e,n])=>Array.isArray(n))),r=e=>{const n=document.createElement("button");return n.innerText=e,n.addEventListener("click",(()=>{fetch("/scenario",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario:e})})})),n},a=document.querySelector("#global-scenarios");a.innerHTML="",t.forEach((([e])=>{const n=r(e);a.appendChild(n)}));const c=e=>{var n=document.createElement("td");return n.innerHTML=e,n},o=document.querySelector("#scenarios-per-handler");o.innerHTML="",Object.values(n).forEach((e=>{var n=document.createElement("tr");const{method:t,path:a,scenarios:i}=e;n.appendChild(c(t)),n.appendChild(c(a));const s=document.createElement("td");i.forEach((e=>{s.appendChild(r(e))})),n.appendChild(s),o.appendChild(n)}))})();
