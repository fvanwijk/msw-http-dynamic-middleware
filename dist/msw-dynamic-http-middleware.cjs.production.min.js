"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=(e=require("pino"))&&"object"==typeof e&&"default"in e?e.default:e,t=require("msw"),n=r({prettyPrint:{translateTime:!0,ignore:"pid,hostname"}}),a=function(e,r,t){return r(t.status(200))},o=function(e){if(e instanceof RegExp)throw new Error("Only strings as path are supported");return!0};exports.createHandlers=function(e){var r={};return[].concat(Object.values(e).flatMap((function(e){return(Array.isArray(e)?e:[e]).map((function(e){var i=e.info,s=i.method,u=i.path,f=i.header;return t.rest[s.toLowerCase()](u,(function(e,t,i){if(o(u)){var c,p=null==(c=r[u])?void 0:c[s];return p?n.info(f):(p=a,n.info(f+" (default resolver)")),p(e,t,i)}}))}))})),[t.rest.put("/scenario",(function(t,a,i){var s,u=null==(s=t.body)?void 0:s.scenario;if(!u)return a(i.status(400),i.text('Please provide a scenario name in the request body. Example: { "scenario": "user success" }'));var f=e[u];if(!f)return a(i.status(400),i.text('Scenario "'+u+'" does not exist'));var c=(Array.isArray(f)?f:[f]).map((function(e){var t=e.info,n=t.path,a=t.method,i=t.header;if(o(n))return n in r||(r[n]={}),r[n][a]=e.resolver,i}));return n.info('Set scenario "'+u+'" with resolvers for endpoints: '+c.join(", ")),a(i.status(205))}))])};
//# sourceMappingURL=msw-dynamic-http-middleware.cjs.production.min.js.map
